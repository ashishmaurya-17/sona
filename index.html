<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Sona! üå∏</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lato:wght@300;400;700&family=Montserrat:wght@400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;600&family=Dancing+Script:wght@600&family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. COLOR PALETTE & VARIABLES --- */
        :root {
            --bg-gradient: linear-gradient(180deg, #fff0f5 0%, #fff5ee 100%);
            --text-main: #5d4037;
            --text-light: #8d6e63; 
            --accent-gold: #FFD700;
            --accent-pink: #ff80ab;
            --card-bg: rgba(255, 255, 255, 0.85);
            --shadow-soft: 0 10px 25px rgba(93, 64, 55, 0.1); 
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* --- 2. GLOBAL RESET & MOBILE DEFAULTS --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; font-size: 16px; }
        
        body {
            font-family: 'Lato', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-main);
            overflow-x: hidden;
            line-height: 1.6;
            -webkit-tap-highlight-color: transparent;
            cursor: pointer; /* Encourage clicking */
        }

        h1, h2, h3 { color: var(--text-main); line-height: 1.2; }
        h1 { font-family: 'Playfair Display', serif; }
        h2 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: #c2185b;
            letter-spacing: -0.5px;
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }

        /* --- 3. UTILITIES --- */
        .container {
            width: 100%;
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 2;
        }
        .section { padding: 60px 0; position: relative; }
        .text-center { text-align: center; }
        
        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: var(--shadow-soft);
            border-radius: 20px;
        }

        /* --- 4. ANIMATIONS --- */
        .reveal { opacity: 0; transform: translateY(30px); transition: all 1s ease; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* Floating Alphabets & Flowers */
        #floating-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9999; overflow: hidden;
        }
        .floater {
            position: absolute;
            top: -10vh;
            animation: floatDown linear infinite;
            font-family: 'Great Vibes', cursive;
            font-weight: bold;
            opacity: 0.6;
        }
        @keyframes floatDown {
            0% { transform: translateY(-10vh) rotate(0deg) translateX(0); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: translateY(110vh) rotate(360deg) translateX(-20px); opacity: 0; }
        }

        /* --- 5. HERO SECTION --- */
        #hero {
            height: 100vh;
            height: 100dvh;
            display: flex; align-items: center; justify-content: center;
            text-align: center; position: relative;
            background: radial-gradient(circle at center, rgba(255,255,255,0.8) 0%, transparent 70%);
            padding: 0 15px;
        }
        .hero-title {
            font-size: clamp(3rem, 12vw, 5rem); 
            margin-bottom: 15px;
            color: #d81b60; text-shadow: 2px 2px 0px rgba(255, 215, 0, 0.3);
            animation: popIn 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            line-height: 1.1;
        }
        .hero-subtitle { 
            font-size: 1.1rem; 
            font-family: 'Poppins', sans-serif; 
            margin-bottom: 30px; 
            color: var(--text-light); 
            max-width: 90%; 
            margin-left: auto; 
            margin-right: auto;
        }
        @keyframes popIn { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

        .scroll-down {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            font-size: 2rem; animation: bounce 2.5s infinite; color: #c2185b; cursor: pointer;
            padding: 20px;
        }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translate(-50%, 0); } 40% { transform: translate(-50%, -15px); } }

        /* --- 6. BLESSINGS --- */
        .blessings-content {
            display: flex; 
            flex-direction: column;
            align-items: center; 
            gap: 30px; 
        }
        .deity-img {
            width: 240px; height: 240px;
            object-fit: cover;
            border-radius: 50%; border: 6px solid white;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
            background-color: #fceea7;
        }
        .blessings-message { 
            width: 100%; 
            padding: 25px; 
            text-align: center;
        }

        /* --- 7. COSMIC SECTION (Hidden) --- */
        #cosmic-trigger-section {
            padding: 40px 0;
            text-align: center;
        }
        .btn-cosmic {
            background: linear-gradient(135deg, #1B2735 0%, #090A0F 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            border: 2px solid #e0c3fc;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s;
            display: inline-flex; align-items: center; gap: 10px;
        }
        .btn-cosmic:hover { transform: scale(1.05); }

        #cosmic-section {
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
            color: white; padding: 80px 0;
            text-align: center; overflow: hidden;
            display: none; 
        }
        #star-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .cosmic-title {
            font-size: 2.2rem;
            background: linear-gradient(to right, #e0c3fc, #8ec5fc);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            font-family: 'Playfair Display', serif;
        }
        .cosmic-text { font-size: 1.1rem; line-height: 1.8; color: #b0bec5; padding: 0 10px; }
        
        .nasa-image-container {
            width: 150px; height: 150px; margin: 0 auto 20px;
            border-radius: 50%; 
            box-shadow: 0 0 30px rgba(100, 200, 255, 0.4);
            overflow: hidden;
            border: 3px solid rgba(255,255,255,0.2);
            position: relative;
            z-index: 5;
            animation: floatPlanet 6s ease-in-out infinite;
        }
        .nasa-img {
            width: 100%; height: 100%; object-fit: cover;
        }
        @keyframes floatPlanet { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* --- 8. FLOWERS GRID --- */
        .flowers-grid {
            display: grid; 
            grid-template-columns: 1fr;
            gap: 20px; margin-top: 30px;
        }
        .flower-card {
            padding: 25px; 
            display: flex; align-items: center; gap: 20px; text-align: left;
        }
        .flower-icon { font-size: 3rem; margin-bottom: 0; }
        .flower-card h3 { font-size: 1.2rem; margin: 0; }
        .flower-card p { font-size: 0.95rem; line-height: 1.4; margin-top: 5px; }

        /* --- 9. DIARY (With Trigger) --- */
        #diary-trigger-section {
            padding: 40px 0;
            text-align: center;
        }
        .btn-diary {
            background: linear-gradient(135deg, #880e4f 0%, #c2185b 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            border: 2px solid #ff80ab;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(136, 14, 79, 0.3);
            transition: transform 0.3s;
            display: inline-flex; align-items: center; gap: 10px;
        }
        .btn-diary:hover { transform: scale(1.05); }

        #diary-section {
            background-size: 20px 20px;
            padding: 60px 0;
            display: none; /* HIDDEN BY DEFAULT */
        }
        .paper-sheet {
            background: #fff; width: 100%; 
            padding: 30px 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transform: rotate(0deg);
            font-family: 'Caveat', cursive;
            min-height: auto;
        }
        .paper-sheet::before { left: 20px; }
        .paper-content { font-size: 1.4rem; line-height: 1.6; }

        /* --- 10. REASONS --- */
        .reasons-container { display: flex; flex-direction: column; gap: 15px; }
        .reason-card { padding: 20px; gap: 15px; }
        .reason-number {
            min-width: 40px; height: 40px; font-size: 1rem;
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%; color: white;
        }
        .reason-text { font-size: 1rem; }

        /* --- 11. COUNTDOWN --- */
        .timer-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .time-box {
            background: rgba(255,255,255,0.5); 
            min-width: 70px; padding: 10px;
            flex: 1;
        }
        .time-val { font-size: 2rem; display: block; line-height: 1; }
        .time-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }

        /* --- 13. WISHES / PROFILE --- */
        .sona-photo {
            width: 160px; height: 160px; 
            border: 5px solid white;
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
            object-fit: cover;
        }
        .personal-message { font-size: 1.2rem; line-height: 1.6; padding: 0 10px; }

        /* --- 14. GEMINI SECTION --- */
        .magic-btn {
            width: 100%;
            justify-content: center;
            padding: 18px;
        }

        /* --- 15. NEW: MAGIC TOUCH HEARTS --- */
        .touch-heart {
            position: fixed;
            top: 0; left: 0;
            width: 20px; height: 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="%23ff4081" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>') no-repeat center/contain;
            pointer-events: none;
            z-index: 10000;
            animation: heartFade 1s ease-out forwards;
        }
        @keyframes heartFade {
            0% { transform: scale(0.5) translateY(0); opacity: 1; }
            100% { transform: scale(1.5) translateY(-50px) rotate(20deg); opacity: 0; }
        }

        /* --- 16. NEW: MUSIC BUTTON --- */
        .music-btn {
            position: fixed;
            bottom: 20px; right: 20px;
            width: 50px; height: 50px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex; align-items: center; justify-content: center;
            z-index: 10001;
            font-size: 1.2rem;
            color: #d81b60;
            cursor: pointer;
            border: 2px solid #ff80ab;
            transition: transform 0.3s;
        }
        .music-btn:active { transform: scale(0.9); }
        .music-btn.playing { animation: spinMusic 3s linear infinite; }
        @keyframes spinMusic { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- 17. NEW: SURPRISE GIFT BOX --- */
        .gift-container {
            perspective: 1000px;
            width: 150px; height: 150px;
            margin: 40px auto;
            position: relative;
            cursor: pointer;
        }
        .gift-box {
            width: 100%; height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s;
            animation: shake 3s infinite;
        }
        .gift-container:hover .gift-box { animation: none; }
        
        .gift-side {
            position: absolute; width: 150px; height: 150px;
            background: linear-gradient(135deg, #ff4081, #c60055);
            border: 2px solid #ff80ab;
        }
        .gift-lid {
            position: absolute; width: 160px; height: 40px;
            background: #ff80ab;
            top: -20px; left: -5px;
            transform-origin: center;
            z-index: 10;
            transition: transform 0.5s;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
            backface-visibility: hidden; 
        }
        .gift-bow {
            position: absolute; top: -30px; left: 50%; transform: translateX(-50%);
            width: 40px; height: 30px; background: #ffd700;
            border-radius: 50%;
        }
        
        .gift-content {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 200px;
            background: white; padding: 20px;
            border-radius: 10px; text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            transition: all 0.5s; 
            z-index: 20; /* Keep high z-index */
            pointer-events: none;
        }
        
        .gift-open .gift-lid { 
            transform: translateY(-40px) rotateX(-180deg); 
            z-index: 5; 
        }
        
        .gift-open .gift-content { 
            transform: translate(-50%, -160%) scale(1); /* Lift card higher */
            opacity: 1; 
            pointer-events: auto; 
        }
        .gift-open .gift-box { animation: none; }

        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        /* --- 18. LETTER BOOK STYLES --- */
        .book-container {
            width: 300px;
            height: 420px;
            position: relative;
            margin: 30px auto;
            perspective: 1500px; 
            transform-style: preserve-3d;
        }

        .book-page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transform-origin: left center;
            transition: transform 1s cubic-bezier(0.15, 1, 0.3, 1), z-index 0.5s;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: white;
            border-radius: 5px 15px 15px 5px;
            box-shadow: 2px 5px 15px rgba(0,0,0,0.15);
            border: 1px solid #e0e0e0;
            cursor: pointer;
            backface-visibility: hidden; 
            background: linear-gradient(to right, #fdfbf7 0%, #fff 10%, #fff 100%);
        }

        /* Page Stacking Order */
        #page1 { z-index: 10; }
        #page2 { z-index: 9; }
        #page3 { z-index: 8; }
        #page4 { z-index: 7; }
        #page5 { z-index: 6; }
        #page6 { z-index: 5; }
        #page7 { z-index: 4; }
        #page8 { z-index: 3; }
        #page9 { z-index: 2; }

        .book-page.flipped {
            transform: rotateY(-130deg);
            z-index: 1; /* Move to bottom of stack when flipped */
            box-shadow: -2px 5px 15px rgba(0,0,0,0.1); /* Reverse shadow */
        }
        
        .page-text {
            font-size: 1.1rem;
            color: #4a148c;
            line-height: 1.8;
            font-family: 'Caveat', cursive;
        }

        .page-hint {
            font-size: 0.8rem;
            color: #888;
            margin-top: 20px;
            opacity: 0.7;
        }
        
        .tap-pulse-anim {
            animation: pulseText 2s infinite ease-in-out;
            display: inline-block;
        }
        @keyframes pulseText {
            0% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 0.6; transform: scale(1); }
        }

        /* --- 19. NEW: TOASTER & HUG STYLES --- */
        .toaster-container {
            width: 140px; height: 90px;
            position: relative;
            margin: 30px auto;
            cursor: pointer;
        }
        .toaster-body {
            width: 100%; height: 100%;
            background: #ffccbc;
            border-radius: 15px 15px 5px 5px;
            position: relative;
            z-index: 2;
            border-bottom: 5px solid #ffab91;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .toaster-handle {
            position: absolute; right: -10px; top: 30px;
            width: 10px; height: 20px;
            background: #d7ccc8; border-radius: 0 5px 5px 0;
            transition: top 0.3s;
        }
        .toaster-container:hover .toaster-handle { top: 50px; }
        
        .toast {
            width: 90px; height: 70px;
            background: #ffe0b2;
            position: absolute;
            left: 50%; transform: translateX(-50%);
            top: 10px;
            z-index: 1;
            border-radius: 10px 10px 0 0;
            display: flex; align-items: center; justify-content: center;
            font-size: 2.5rem;
            transition: top 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .toaster-container.popped .toast {
            top: -50px;
        }
        
        .btn-magic {
            background: linear-gradient(45deg, #ff4081, #f50057);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(245, 0, 87, 0.4);
            transition: transform 0.3s;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
        }
        .btn-magic:hover { transform: scale(1.05); }
        .btn-magic:active { transform: scale(0.95); }

        .hug-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(255, 240, 245, 0.95); 
            z-index: 11000;
            display: none; 
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .hug-arm { position: absolute; font-size: 8rem; opacity: 0; }
        .hug-active .hug-left { animation: hugLeftAnim 2s forwards; }
        .hug-active .hug-right { animation: hugRightAnim 2s forwards; }

        @keyframes hugLeftAnim {
            0% { left: -150px; opacity: 0; }
            50% { left: 30%; opacity: 1; transform: rotate(-10deg); }
            80% { left: 30%; opacity: 1; transform: rotate(-10deg); }
            100% { left: -150px; opacity: 0; }
        }
        @keyframes hugRightAnim {
            0% { right: -150px; opacity: 0; }
            50% { right: 30%; opacity: 1; transform: rotate(10deg); }
            80% { right: 30%; opacity: 1; transform: rotate(10deg); }
            100% { right: -150px; opacity: 0; }
        }
        .hug-text { font-family: 'Great Vibes', cursive; font-size: 4rem; color: #d81b60; opacity: 0; }
        .hug-active .hug-text { animation: fadePop 2s forwards; }
        @keyframes fadePop {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 0; transform: scale(0.5); }
        }


        /* --- MEDIA QUERIES --- */
        @media (min-width: 768px) {
            .section { padding: 90px 0; }
            h2 { font-size: 2.5rem; }
            .hero-subtitle { font-size: 1.4rem; }
            .blessings-content { flex-direction: row; text-align: left; justify-content: center; }
            .blessings-message { text-align: left; width: auto; padding: 40px; }
            .deity-img { width: 300px; height: 300px; }
            .flowers-grid { grid-template-columns: repeat(2, 1fr); }
            .flower-card { flex-direction: column; text-align: center; }
            .flower-icon { margin-bottom: 15px; }
            .paper-sheet { transform: rotate(-2deg); padding: 60px; }
            .paper-content { font-size: 1.8rem; }
            .magic-btn { width: auto; }
        }
        @media (min-width: 1024px) {
            .flowers-grid { grid-template-columns: repeat(4, 1fr); }
        }
    </style>
</head>
<body>

    <div id="floating-container"></div>
    <canvas id="confetti-canvas" style="position:fixed; top:0; left:0; pointer-events:none; z-index:1000;"></canvas>

    <div class="music-btn" id="musicBtn" onclick="toggleMusic()">
        <i class="fas fa-music"></i>
    </div>
    <audio id="bgMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <div class="hug-overlay" id="hugOverlay">
        <div class="hug-arm hug-left">ü§ó</div>
        <div class="hug-text">Virtual Hug!</div>
        <div class="hug-arm hug-right">ü§ó</div>
    </div>

    <section id="hero">
        <div class="container hero-content">
            <h1 class="hero-title">Happy Birthday Sona</h1>
            <p class="hero-subtitle">The universe danced the day you were born.</p>
            <div class="scroll-down" onclick="document.getElementById('jagannath-blessings-section').scrollIntoView()">
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
    </section>

    <section id="jagannath-blessings-section" class="section">
        <div class="container reveal">
            <h2 class="text-center">Divine Blessings</h2>
            <div class="blessings-content">
                <div class="deity-image-container">
                    <img src="https://i.ibb.co/M53NK8nt/jagannath.jpg" alt="Lord Jagannath" class="deity-img">
                </div>
                <div class="blessings-message glass-card">
                    <p>Sona, blessings from Odisha follow you wherever you go.</p>
                    <p style="margin-top: 15px;">May <strong>Lord Jagannath</strong> hold your hand through every challenge and turn every moment into a celebration.</p>
                    <div class="text-center">
                        <p style="margin-top: 25px; font-size: 1.5rem; font-weight: bold; background: linear-gradient(45deg, #ff8c00, #d81b60); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                            ‡§ú‡§Ø ‡§ú‡§ó‡§®‡•ç‡§®‡§æ‡§•! (Jai Jagannath!) üïâÔ∏è
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="cosmic-trigger-section">
        <div class="container text-center">
            <button class="btn-cosmic" onclick="revealCosmicSection()">
                <i class="fas fa-star" style="color:#FFD700"></i> Tap to see what the Universe saw on your Birthday <i class="fas fa-star" style="color:#FFD700"></i>
            </button>
        </div>
    </section>

    <section id="cosmic-section" class="reveal">
        <canvas id="star-canvas"></canvas>
        <div class="container" style="position: relative; z-index: 2;">
            <div class="nasa-image-container">
                <img src="https://imagine.gsfc.nasa.gov/hst_bday/images/january-12-2019-andromeda-galaxy.jpg" alt="Andromeda Galaxy" class="nasa-img">
            </div>
            <h2 class="cosmic-title">Written in the Stars</h2>
            <p class="cosmic-text">
                On the day you were born, <strong>January 12, 2005</strong>, the Hubble Telescope looked deep into space and found the <strong>Andromeda Galaxy</strong>.
            </p>
            <p class="cosmic-text" style="font-size: 1rem; margin-top: 5px;">
                Like this vast galaxy, your spirit is beautiful and limitless. You are a gift to this universe.
            </p>
            <div style="background: rgba(255,255,255,0.15); padding: 10px 20px; border-radius: 50px; display: inline-flex; align-items: center; gap: 8px; margin-top: 20px; font-size: 0.9rem;">
                <i class="fas fa-star" style="color: #ffd700;"></i> ID: SONA-12-01-2005
            </div>
        </div>
    </section>

    <section id="surprise-gift" class="section" style="background: #fff0f5;">
        <div class="container reveal text-center">
            <h2 style="color: #c2185b;">A Surprise for You!</h2>
            <p style="margin-bottom: 20px;">Tap the box to open your gift.</p>
            
            <div class="gift-container" id="gift-box" onclick="openGift()">
                <div class="gift-lid">
                    <div class="gift-bow"></div>
                </div>
                <div class="gift-box">
                    <div class="gift-side"></div>
                </div>
                <div class="gift-content">
                    <h3 style="color: #d81b60; font-family: 'Great Vibes', cursive; font-size: 2rem;">Lifetime Happiness</h3>
                    <p style="font-size: 0.9rem;">Coupon Valid Forever!</p>
                    <p style="font-size: 0.8rem; margin-top: 5px; color: #888;">No expiry date.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="playful-section">
        <div class="container text-center reveal">
            <h2>My Strawberry Shortcake üçì</h2>
            <p>Tap the toaster for a surprise!</p>
            
            <div class="toaster-container" onclick="popToaster(this)">
                <div class="toast" id="toast">üß∏</div>
                <div class="toaster-body">
                    <div class="toaster-handle"></div>
                </div>
            </div>
            <p id="toast-msg" style="opacity: 0; transition: 1s; color: #d84315; font-weight: bold; font-family: 'Dancing Script'; font-size: 1.5rem;">You are the sweetest treat! ‚ù§Ô∏è</p>

            <br><br>
            
            <button class="btn-magic" onclick="giveHug()">
                ü§ó Send a Virtual Hug
            </button>
        </div>
    </section>

    <section id="music-dedication" class="section">
        <div class="container reveal">
            <h2 class="text-center" style="margin-bottom: 30px;">Melody of Heart üéµ</h2>
            <div class="glass-card" style="padding: 20px; max-width: 500px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; text-align: center;">
                <p style="margin-bottom: 20px; font-style: italic; color: #5d4037;">"A song that feels like you..."</p>
                
                <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/18Sgw9PWiIMeqPaZZ3U7zb?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                
                <div style="margin-top: 15px; font-size: 0.9rem; color: #888;">
                    <i class="fas fa-headphones-alt"></i> Goriya Chand Ke Anjoriya - Manoj Tiwari
                </div>
            </div>
        </div>
    </section>

    <section id="diary-trigger-section">
        <div class="container text-center">
            <button class="btn-diary" onclick="revealDiarySection()">
                <i class="fas fa-envelope"></i> Read Personal Note <i class="fas fa-envelope"></i>
            </button>
        </div>
    </section>

    <section id="diary-section">
        <div class="container">
            <h2 class="text-center" style="margin-bottom: 30px; font-family: 'Great Vibes', cursive; font-size: 3rem; color: #c2185b;">A Note for You</h2>
            <div class="paper-sheet reveal">
                <div class="paper-content">
                    <span id="typewriter-text"></span><span style="display: inline-block; width: 2px; height: 1.2rem; background: #c2185b; animation: blink 1s infinite;"></span>
                </div>
            </div>
        </div>
    </section>

    <section id="letter-book-section" class="section" style="background: linear-gradient(180deg, #fff0f5 0%, #ffebee 100%);">
        <div class="container reveal text-center">
            <h2>A Letter from the Heart üíå</h2>
            <p class="tap-pulse-anim" style="margin-bottom: 20px; color: #888;">Tap the pages to read...</p>

            <div class="book-container">
                <div class="book-page" id="page9" onclick="flipPage(this)">
                    <p class="page-text">"With all my love,<br><br><strong>Ashish</strong> ‚ù§Ô∏è"</p>
                    <span class="page-hint" style="color:#d81b60">End of Letter</span>
                </div>
                <div class="book-page" id="page8" onclick="flipPage(this)">
                    <p class="page-text">"Do visit Prabhu Jagannath Temple. Unka aashirwad hamesha aapke saath rahe."</p>
                    <span class="page-hint">Tap to finish ></span>
                </div>
                <div class="book-page" id="page7" onclick="flipPage(this)">
                    <p class="page-text">"Enjoy your day, don't spoil your day just for any '2 kaudi ka aadmi'. Enjoy with your family & friends."</p>
                    <span class="page-hint">Tap for more ></span>
                </div>
                <div class="book-page" id="page6" onclick="flipPage(this)">
                    <p class="page-text">"You have a special place in my heart in every perspective‚Äîbrother, best friend, or even as a stranger. I don't have any bad intention toward you."</p>
                    <span class="page-hint">Tap for more ></span>
                </div>
                <div class="book-page" id="page5" onclick="flipPage(this)">
                    <p class="page-text">"Enjoy your day, don't get sad! Agar kisi ka wish nahi aaya, toh just let him go. Enjoy in your present, think about your future, forgot your past. Let him fade from your life."</p>
                    <span class="page-hint">Tap for more ></span>
                </div>
                <div class="book-page" id="page4" onclick="flipPage(this)">
                    <p class="page-text">"Aap hai as a friend hi lekin aap hai... As of now aap mujhe bhai bol sakte hain, mujhe koi problem nahi behen (bas boliyega mat haha!). Truth is, you are the sweetest girl I have ever met."</p>
                    <span class="page-hint">Tap for more ></span>
                </div>
                <div class="book-page" id="page3" onclick="flipPage(this)">
                    <p class="page-text">"Is baar birthday par I wish aapka career bohot acha ho. I hope maine sabse special aapko feel karwaya ho... par sach kahun? Karwane se kuch nahi hota, aap 'special' hain hi!"</p>
                    <span class="page-hint">Tap for more ></span>
                </div>
                <div class="book-page" id="page2" onclick="flipPage(this)">
                    <p class="page-text">"My Dearest Sona,"</p>
                    <span class="page-hint">Tap to open ></span>
                </div>
                <div class="book-page" id="page1" onclick="flipPage(this)" style="background: #f8bbd0; color: white;">
                    <h3 style="font-family:'Great Vibes'; font-size: 3rem; color: #880e4f;">For Sona</h3>
                    <p style="margin-top: 20px; color: #ad1457;">(Read with Music)</p>
                    <span class="page-hint" style="color: #880e4f;">Tap to Start ></span>
                </div>
            </div>
        </div>
    </section>

    <section id="flowers" class="section">
        <div class="container">
            <h2 class="text-center reveal">Blossoms of Love</h2>
            <div class="flowers-grid">
                <div class="flower-card glass-card reveal">
                    <span class="flower-icon">üåπ</span>
                    <div>
                        <h3>Red Roses</h3>
                        <p>For love & respect.</p>
                    </div>
                </div>
                <div class="flower-card glass-card reveal">
                    <span class="flower-icon">üåª</span>
                    <div>
                        <h3>Sunflowers</h3>
                        <p>Your sunshine smile.</p>
                    </div>
                </div>
                <div class="flower-card glass-card reveal">
                    <span class="flower-icon">ü™∑</span>
                    <div>
                        <h3>Lotus</h3>
                        <p>Grace & purity.</p>
                    </div>
                </div>
                <div class="flower-card glass-card reveal">
                    <span class="flower-icon">üå∑</span>
                    <div>
                        <h3>Tulips</h3>
                        <p>Comfort & joy.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="reasons" class="section">
        <div class="container">
            <h2 class="text-center reveal" style="margin-bottom: 40px;">Why You're Special</h2>
            <div class="reasons-container">
                <div class="reason-card glass-card reveal" style="display:flex; align-items:center; border-left: 5px solid #ff80ab;">
                    <div class="reason-number" style="background: #ff80ab;">1</div>
                    <div class="reason-text">Your laugh is the sweetest melody.</div>
                </div>
                <div class="reason-card glass-card reveal" style="display:flex; align-items:center; border-left: 5px solid #ff80ab;">
                    <div class="reason-number" style="background: #ff80ab;">2</div>
                    <div class="reason-text">You have a heart of gold.</div>
                </div>
                <div class="reason-card glass-card reveal" style="display:flex; align-items:center; border-left: 5px solid #ff80ab;">
                    <div class="reason-number" style="background: #ff80ab;">3</div>
                    <div class="reason-text">You inspire me to be better.</div>
                </div>
            </div>
        </div>
    </section>

    <section id="gemini-magic-section" class="section" style="background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);">
        <div class="container reveal text-center">
            <h2 style="color: #6a1b9a;">Cosmic AI Whispers ‚ú®</h2>
            <p style="margin-bottom: 25px; font-size: 1rem; color: #5d4037;">
                Tap below for a magical wish from the Universe.
            </p>
            
            <button class="magic-btn" onclick="generateMagicWish()" style="background: linear-gradient(45deg, #7b1fa2, #ba68c8); color: white; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; display: inline-flex; align-items: center; gap: 10px; box-shadow: 0 5px 15px rgba(123, 31, 162, 0.3);">
                <i class="fas fa-magic"></i> Generate Magical Wish
            </button>
            
            <div class="loading-spinner" id="ai-loader" style="display:none; width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #7b1fa2; border-radius: 50%; animation: spin 1s linear infinite; margin: 20px auto;"></div>
            
            <div class="ai-response-card glass-card" id="ai-card" style="margin-top: 30px; padding: 25px; display: none;">
                <p class="ai-text" id="ai-wish-text" style="font-family: 'Dancing Script', cursive; font-size: 1.6rem; color: #4a148c;"></p>
                <p style="font-size: 0.8rem; margin-top: 10px; color: #7b1fa2;">- Gemini AI üåå</p>
            </div>
        </div>
    </section>

    <section id="countdown-section" style="padding: 50px 0; background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
        <div class="container text-center">
            <h2 style="color: #880e4f; margin-bottom: 25px; font-size: 1.8rem;">The Big Day ‚è≥</h2>
            <div class="timer-container" id="timer">
                <div class="time-box"><span class="time-val" id="days">00</span><span class="time-label">Days</span></div>
                <div class="time-box"><span class="time-val" id="hours">00</span><span class="time-label">Hrs</span></div>
                <div class="time-box"><span class="time-val" id="minutes">00</span><span class="time-label">Mins</span></div>
                <div class="time-box"><span class="time-val" id="seconds">00</span><span class="time-label">Secs</span></div>
            </div>
            <p id="bday-message" style="display:none; font-size: 2rem; margin-top: 20px; font-weight: bold; color: #880e4f;">Happy Birthday Sona! üéâ</p>
        </div>
    </section>

    <section id="wishes" class="section">
        <div class="container reveal">
            <div class="message-card glass-card text-center" style="padding: 40px 20px;">
                <img src="https://i.ibb.co/8DR7TCQk/Sona.jpg" alt="Beautiful Sona" class="sona-photo" style="border-radius: 50%;">
                
                <h2 style="font-family: 'Great Vibes', cursive; font-size: 3rem; margin-top: 20px; color: #c2185b;">Happy Birthday!</h2>
                <p class="personal-message">
                    "Sona, may this year bring you as much happiness as you give to everyone around you. Keep shining, keep smiling."
                </p>
                <div style="margin-top: 30px; font-size: 1.1rem; color: #8d6e63;">
                    <i class="fas fa-heart" style="color: #c2185b;"></i><br>
                    <strong>Ashish Maurya</strong>
                </div>
            </div>
        </div>
    </section>

    <footer style="background: #3e2723; color: #d7ccc8; padding: 30px 0; text-align: center; font-size: 0.9rem;">
        <p>Crafted with love and stardust. ¬© 2026</p>
    </footer>

    <script>
        // --- CONFIGURATION ---
        const birthdayDate = new Date("January 12, 2026 00:00:00").getTime();
        
        // --- FLOATING ELEMENTS ---
        function createFloatingElements() {
            const container = document.getElementById('floating-container');
            const elements = ['üå∏', 'üåπ', '‚ú®', 'üíñ', 'S', 'O', 'N', 'A']; 
            const count = window.innerWidth < 768 ? 15 : 30; 

            for (let i = 0; i < count; i++) {
                const floater = document.createElement('div');
                floater.classList.add('floater');
                floater.innerText = elements[Math.floor(Math.random() * elements.length)];
                floater.style.fontSize = Math.random() * 1 + 1 + 'rem';
                floater.style.left = Math.random() * 100 + 'vw';
                floater.style.animationDuration = Math.random() * 10 + 15 + 's'; 
                floater.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(floater);
            }
        }
        createFloatingElements();

        // --- NEW: MUSIC PLAYER ---
        function toggleMusic() {
            const audio = document.getElementById('bgMusic');
            const btn = document.getElementById('musicBtn');
            if (audio.paused) {
                audio.play();
                btn.innerHTML = '<i class="fas fa-pause"></i>';
                btn.classList.add('playing');
            } else {
                audio.pause();
                btn.innerHTML = '<i class="fas fa-music"></i>';
                btn.classList.remove('playing');
            }
        }

        // --- NEW: SURPRISE GIFT ---
        function openGift() {
            const container = document.getElementById('gift-box');
            if (!container.classList.contains('gift-open')) {
                container.classList.add('gift-open');
                startConfetti();
            }
        }
        
        // --- NEW: BOOK FLIPPING LOGIC ---
        function flipPage(element) {
            // Simply add the flipped class to rotate it
            if (!element.classList.contains('flipped')) {
                element.classList.add('flipped');
            } else {
                // Optional: Click again to unflip
                element.classList.remove('flipped');
            }
        }

        // --- NEW: VIRTUAL HUG LOGIC ---
        function giveHug() {
            const overlay = document.getElementById('hugOverlay');
            overlay.style.display = 'flex';
            overlay.classList.add('hug-active');
            startConfetti();
            setTimeout(() => {
                overlay.style.display = 'none';
                overlay.classList.remove('hug-active');
            }, 3000);
        }

        // --- NEW: TOASTER LOGIC ---
        function popToaster(el) {
            if (!el.classList.contains('popped')) {
                el.classList.add('popped');
                document.getElementById('toast-msg').style.opacity = 1;
            } else {
                el.classList.remove('popped');
                document.getElementById('toast-msg').style.opacity = 0;
            }
        }

        // --- NEW: REVEAL COSMIC SECTION ---
        function revealCosmicSection() {
            const btnSection = document.getElementById('cosmic-trigger-section');
            const cosmicSection = document.getElementById('cosmic-section');
            btnSection.style.display = 'none';
            cosmicSection.style.display = 'block';
            initStarField();
            cosmicSection.scrollIntoView({ behavior: 'smooth' });
        }

        // --- NEW: REVEAL DIARY SECTION ---
        function revealDiarySection() {
            const btnSection = document.getElementById('diary-trigger-section');
            const diarySection = document.getElementById('diary-section');
            btnSection.style.display = 'none';
            diarySection.style.display = 'block';
            diarySection.scrollIntoView({ behavior: 'smooth' });
            
            // Manually trigger typeWriter if not already typed
            if(!hasTyped) {
                hasTyped = true;
                setTimeout(typeWriter, 500);
            }
        }

        // --- NEW: MAGIC TOUCH TRAIL ---
        document.addEventListener('mousemove', function(e) { createHeart(e.clientX, e.clientY); });
        document.addEventListener('touchmove', function(e) { 
            if(e.touches.length > 0) {
                createHeart(e.touches[0].clientX, e.touches[0].clientY);
            }
        }, {passive: true});

        function createHeart(x, y) {
            if (Math.random() > 0.1) return; 
            const heart = document.createElement('div');
            heart.classList.add('touch-heart');
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 1000);
        }

        // --- TYPEWRITER ---
        const diaryText = "Dear Sona,\n\nOn this special day, I just want to remind you how incredible you are. Your kindness touches hearts. \n\nHappy Birthday! \n\n- Ashish";
        const typeWriterElement = document.getElementById('typewriter-text');
        let i = 0;
        let hasTyped = false;

        const diaryObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !hasTyped) {
                    hasTyped = true;
                    typeWriter();
                }
            });
        }, { threshold: 0.3 });
        diaryObserver.observe(document.getElementById('diary-section'));

        function typeWriter() {
            if (i < diaryText.length) {
                if (diaryText.charAt(i) === '\n') {
                    typeWriterElement.innerHTML += '<br>';
                } else {
                    typeWriterElement.innerHTML += diaryText.charAt(i);
                }
                i++;
                setTimeout(typeWriter, 50);
            }
        }

        // --- SCROLL REVEAL ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // --- COUNTDOWN ---
        const timerInterval = setInterval(function() {
            const now = new Date().getTime();
            const distance = birthdayDate - now;

            if (distance < 0) {
                document.getElementById("timer").style.display = "none";
                document.getElementById("bday-message").style.display = "block";
                startConfetti();
                clearInterval(timerInterval);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").innerText = days < 10 ? "0" + days : days;
            document.getElementById("hours").innerText = hours < 10 ? "0" + hours : hours;
            document.getElementById("minutes").innerText = minutes < 10 ? "0" + minutes : minutes;
            document.getElementById("seconds").innerText = seconds < 10 ? "0" + seconds : seconds;
        }, 1000);

        // --- STARS ---
        function initStarField() {
            const canvas = document.getElementById('star-canvas');
            const ctx = canvas.getContext('2d');
            const section = document.getElementById('cosmic-section');
            if(section.style.display === 'none') return;

            function resize() {
                canvas.width = section.offsetWidth;
                canvas.height = section.offsetHeight;
            }
            resize();
            window.addEventListener('resize', resize);

            const stars = [];
            const starCount = window.innerWidth < 768 ? 50 : 150; 
            for(let j=0; j<starCount; j++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 1.5,
                    opacity: Math.random(),
                    speed: Math.random() * 0.02
                });
            }

            function animateStars() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = 'white';
                stars.forEach(star => {
                    ctx.globalAlpha = star.opacity;
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    ctx.fill();
                    star.opacity += star.speed;
                    if(star.opacity > 1 || star.opacity < 0) star.speed = -star.speed;
                });
                requestAnimationFrame(animateStars);
            }
            animateStars();
        }
        
        // --- CONFETTI ---
        function startConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const pieces = [];
            const colors = ['#e91e63', '#ffeb3b', '#00bcd4', '#8bc34a'];
            
            for (let k = 0; k < 60; k++) { 
                pieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    size: Math.random() * 6 + 4,
                    speed: Math.random() * 3 + 2, 
                    wobble: Math.random() * 10
                });
            }
            
            function animateConfetti() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                let active = false;
                pieces.forEach(p => {
                    if (p.y < canvas.height) active = true;
                    ctx.fillStyle = p.color;
                    p.wobble += 0.05;
                    ctx.fillRect(p.x + Math.sin(p.wobble)*2, p.y, p.size, p.size);
                    p.y += p.speed;
                });
                if (active) requestAnimationFrame(animateConfetti);
            }
            animateConfetti();
        }

        // --- GEMINI API ---
        async function generateMagicWish() {
            const apiKey = ""; 
            const loader = document.getElementById('ai-loader');
            const card = document.getElementById('ai-card');
            const wishText = document.getElementById('ai-wish-text');
            const button = document.querySelector('.magic-btn');

            loader.style.display = 'block';
            card.style.display = 'none';
            button.disabled = true;
            button.style.opacity = 0.6;

            const prompt = "Write a very short, magical birthday wish for Sona. 2 sentences max. Mention stardust.";

            try {
                const response = await fetchWithRetry(
                    `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
                    {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    }
                );

                const data = await response.json();
                const generatedText = data.candidates[0].content.parts[0].text;

                wishText.innerText = `"${generatedText}"`;
                loader.style.display = 'none';
                card.style.display = 'block';
                startConfetti();

            } catch (error) {
                console.error("API Error:", error);
                wishText.innerText = "The stars are aligning... please try again! ‚ú®";
                loader.style.display = 'none';
                card.style.display = 'block';
            } finally {
                button.disabled = false;
                button.style.opacity = 1;
            }
        }

        async function fetchWithRetry(url, options, retries = 3, delay = 1000) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return response;
                } catch (error) {
                    if (i === retries - 1) throw error;
                    await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                }
            }
        }

        window.onload = function() {
            // Replaced default star init with nothing
        };

    </script>
</body>
</html>
